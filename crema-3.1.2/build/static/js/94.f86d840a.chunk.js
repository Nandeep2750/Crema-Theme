(this.webpackJsonphister=this.webpackJsonphister||[]).push([[94],{1626:function(e,t,n){"use strict";var c=n(5),a=(n(2),n(51)),i=n(725),r=n(206),s=n(1452),o=n(979),l=n(1572),d=n(718),j=n(103),b=n.n(j),u=n(1460),x=n(61),m=n(6),h=n(1508),O=n(949),p=n(1),f=function(e){var t=e.isAppDrawerOpen,n=e.sidebarContent,c=Object(a.useDispatch)();return Object(p.jsx)(o.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsxs)(r.a,{sx:{height:"100%",width:{lg:280}},children:[Object(p.jsx)(l.a,{lgUp:!0,children:Object(p.jsx)(h.a,{open:t,onClose:function(){return c(Object(x.eb)())},sx:Object(m.a)({position:"absolute"},"& .".concat(O.a.paper),{width:280,"& .listItem":{zIndex:1305}}),children:n})}),Object(p.jsx)(l.a,{lgDown:!0,children:Object(p.jsx)(u.a,{style:{height:"100%"},children:n})})]})})},g=n(47),v=n(15),C=n(23),y=["children","navStyle","footer"],k=function(e,t){return e===v.g.BIT_BUCKET?t>=1200?0:70:t>=600?70:56},w=function(e){var t=e.children,n=e.navStyle,a=e.footer,i=Object(C.a)(e,y);return Object(p.jsx)(r.a,Object(c.a)(Object(c.a)({sx:{display:"flex",height:{xs:"calc(100vh - ".concat(87+k(n,0)+(a?47:0),"px) !important"),sm:"calc(100vh - ".concat(87+k(n,600)+(a?47:0),"px) !important"),md:"calc(100vh - ".concat(107+k(n,900)+(a?47:0),"px) !important"),lg:"calc(100vh - ".concat(100+k(n,1200)+(a?47:0),"px) !important"),xl:"calc(100vh - ".concat(140+k(n,1536)+(a?57:0),"px) !important")}}},i),{},{children:t}))},S=function(e){var t=Object(a.useDispatch)(),n=Object(a.useSelector)((function(e){return e.common.isAppDrawerOpen})),j=Object(g.c)().footer,m=Object(g.c)().navStyle,h=e.title,O=e.sidebarContent,C=e.fullView,y=e.children;return Object(p.jsxs)(r.a,{sx:Object(c.a)({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",margin:-4,padding:4},e.sxStyle),children:[Object(p.jsxs)(r.a,{sx:{marginTop:C?0:-4,display:"flex",alignItems:"center",mb:{xs:C?4:2,lg:4},mt:{xs:C?0:-4,lg:0}},children:[C?null:Object(p.jsx)(l.a,{lgUp:!0,children:Object(p.jsx)(d.a,{edge:"start",sx:{marginRight:function(e){return e.spacing(2)}},color:"inherit","aria-label":"open drawer",onClick:function(){return t(Object(x.eb)())},size:"large",children:Object(p.jsx)(b.a,{sx:{width:35,height:35}})})}),Object(p.jsx)(s.a,{in:!0,style:{transitionDelay:"300ms"},children:Object(p.jsx)(r.a,{component:"h2",variant:"h2",sx:{fontSize:16,color:"text.primary",fontWeight:v.a.SEMI_BOLD},children:h})})]}),Object(p.jsxs)(w,{navStyle:m,footer:j,children:[O?Object(p.jsx)(f,{isAppDrawerOpen:n,footer:j,fullView:C,navStyle:m,sidebarContent:O}):null,Object(p.jsxs)(r.a,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(C?0:280,"px)")},pl:{lg:e.fullView?0:8}},children:[Object(p.jsx)(o.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)(u.a,{style:Object(c.a)({height:"100%",display:"flex",flexDirection:"column",position:"relative"},e.cardStyle),children:y})}),Object(p.jsx)(i.a,{})]})]})]})};t.a=S;S.defaultProps={title:""}},1632:function(e,t,n){"use strict";var c=n(5),a=n(23),i=(n(2),n(17)),r=n(736),s=n(1),o=["isDetailView","fullView","children"],l=Object(i.a)(r.a)((function(){return{width:"100%",paddingTop:8,paddingBottom:8,display:"flex",flexDirection:"column","& .simplebar-content":{height:"100%"}}})),d=function(e){var t=e.isDetailView,n=e.fullView,i=e.children,r=Object(a.a)(e,o);return Object(s.jsx)(l,Object(c.a)(Object(c.a)({},r),{},{sx:{height:{xs:"calc(100% - ".concat(t?60:129,"px)"),sm:"calc(100% - ".concat(n?0:60,"px)")}},children:i}))};t.a=d,d.defaultProps={isDetailView:!1}},2308:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(51),r=n(61),s=n(206),o=n(1626),l=n(5),d=n(14),j=n(28),b=n(134),u=n(116),x=n(475),m=n(34),h=n(1665),O=n.n(h),p=n(734),f=n.n(p),g=n(2142),v=n.n(g),C=n(239),y=n(15),k=n(718),w=n(1),S=function(e){var t=e.onClickDeleteIcon,n=e.onCloseAddCard,c=e.onAddAttachments,a=Object(C.a)({accept:"image/*",onDrop:function(e){var t=e.map((function(e){return{id:Math.floor(1e4*Math.random()),file:e,preview:URL.createObjectURL(e)}}));c(t)}}),i=a.getRootProps,r=a.getInputProps;return Object(w.jsxs)(s.a,{sx:{py:2,px:{xs:5,lg:8,xl:10},display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){return"solid 1px ".concat(e.palette.divider)}},children:[Object(w.jsx)(s.a,{component:"h5",sx:{pr:2,fontWeight:y.a.BOLD,fontSize:16},children:Object(w.jsx)(m.a,{id:"scrumboard.board"})}),Object(w.jsxs)(s.a,{sx:{pl:2,mr:{xs:-2,lg:-3,xl:-4},display:"flex",alignItems:"center"},children:[Object(w.jsxs)(s.a,Object(l.a)(Object(l.a)({},i({className:"dropzone"})),{},{children:[Object(w.jsx)("input",Object(l.a)({},r())),Object(w.jsx)(k.a,{children:Object(w.jsx)(O.a,{})})]})),Object(w.jsx)(s.a,{children:Object(w.jsx)(k.a,{onClick:t,sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(f.a,{})})}),Object(w.jsx)(s.a,{children:Object(w.jsx)(k.a,{onClick:function(){return n()},sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(v.a,{})})})]})]})},I=n(60),D=n(1458),L=n(1466),A=n(988),M=n(32),B=n.n(M),T=n(145),W=n(2143),E=n.n(W),z=n(17),R=Object(z.a)("div")((function(e){var t=e.theme;return{transition:"all 0.4s ease",backgroundColor:Object(T.a)(t.palette.common.black,.04),overflow:"hidden",borderRadius:4,width:120,position:"relative","& .attachment-thumb":{overflow:"hidden",position:"relative","& > img":{width:"100%"},"&:before":{content:'""',position:"absolute",left:0,top:0,zIndex:1,backgroundColor:Object(T.a)(t.palette.common.black,.15),width:"100%",height:"1005"}},"& .attachment-action":{position:"absolute",right:10,top:10,zIndex:3,opacity:0,visibility:"hidden",transition:"all 0.4s ease"},"& .icon-btn":{backgroundColor:Object(T.a)(t.palette.common.white,.5),color:t.palette.text.secondary,padding:6,"&:not(:first-of-type)":{marginLeft:8},"& svg":{fontSize:20},"&:hover":{backgroundColor:Object(T.a)(t.palette.common.white,.8),color:t.palette.text.secondary}},"&:hover":{backgroundColor:Object(T.a)(t.palette.common.black,.08),"& .attachment-action":{opacity:1,visibility:"visible"}}}})),N=function(e){var t=e.attachments,n=e.onDeleteAttachment;return Object(w.jsx)(w.Fragment,{children:t&&t.length>0?Object(w.jsxs)(s.a,{sx:{mb:2},children:[Object(w.jsx)(s.a,{sx:{mb:{xs:3,sm:5}},children:Object(w.jsx)(s.a,{component:"h4",children:Object(w.jsx)(m.a,{id:"common.attachments"})})}),Object(w.jsx)(s.a,{sx:{display:"flex",flexWrap:"wrap",mx:-1.5},children:t.map((function(e){var t=e.file;return Object(w.jsx)(s.a,{sx:{px:1.5,mb:3},children:Object(w.jsxs)(R,{children:[Object(w.jsxs)(s.a,{className:"attachment-thumb",children:[Object(w.jsx)("img",{src:e.preview,alt:"attachment"}),Object(w.jsxs)(s.a,{className:"attachment-action",children:[Object(w.jsx)(k.a,{className:"icon-btn",color:"primary",variant:"outlined","aria-label":"edit",children:Object(w.jsx)(E.a,{})}),Object(w.jsx)(k.a,{className:"icon-btn",color:"primary",variant:"outlined","aria-label":"delete",onClick:function(){return n(e.id)},children:Object(w.jsx)(f.a,{})})]})]}),Object(w.jsxs)(s.a,{sx:{px:2,py:1.5},children:[Object(w.jsx)(s.a,{sx:{color:"primary.main",fontWeight:y.a.LIGHT},children:t.name}),Object(w.jsxs)(s.a,{sx:{my:1,fontSize:12},children:[Object(w.jsx)(s.a,{component:"span",sx:{mr:1},children:B()(t.lastModified).format("ll").split(",")[0]}),Object(w.jsx)(s.a,{component:"span",sx:{mr:1},children:Object(w.jsx)(m.a,{id:"common.at"})}),Object(w.jsx)(s.a,{component:"span",children:B()(t.lastModified).format("LT")})]})]})]})},e.id)}))})]}):null})},P=N;N.defaultProps={attachments:[]};var U=n(719),V=n(1624),F=n(1572),H=Object(z.a)("div")((function(){return{position:"relative",display:"flex",alignItems:"center","& .icon-btn":{transition:"all 0.4s ease",opacity:0,visibility:"hidden"},"&:hover":{"& .icon-btn":{opacity:1,visibility:"visible"}}}})),G=function(e){var t=e.onAddNewCheckedItem,n=e.checkedList,c=e.onSetCheckedItemText,a=e.onDeleteCheckedItem;return Object(w.jsxs)(s.a,{sx:{mb:2},children:[Object(w.jsxs)(s.a,{sx:{mb:4,display:"flex",alignItems:"center"},children:[Object(w.jsx)(s.a,{component:"h4",children:Object(w.jsx)(m.a,{id:"scrumboard.checkedLists"})}),Object(w.jsx)(s.a,{sx:{ml:"auto",pl:2},children:Object(w.jsx)(U.a,{variant:"outlined",sx:{textTransform:"capitalize",px:4},onClick:function(){return t()},children:Object(w.jsx)(m.a,{id:"scrumboard.addNew"})})})]}),n.map((function(e){return Object(w.jsxs)(H,{children:[Object(w.jsxs)(s.a,{sx:{mb:4,flex:1,display:"flex",alignItems:"center"},children:[Object(w.jsx)(F.a,{xsDown:!0,children:Object(w.jsx)(V.a,{sx:{mr:2}})}),Object(w.jsx)(L.a,{sx:{width:"100%","& .inputprops-root":{width:"100%",margin:"auto"}},variant:"outlined",InputProps:{className:"inputprops-root"},value:e.title,onChange:function(t){return c(t.target.value,e.id)}})]}),Object(w.jsx)(s.a,{component:"span",sx:{mb:4,ml:3},children:Object(w.jsx)(k.a,{className:"icon-btn",onClick:function(){return a(e.id)},children:Object(w.jsx)(f.a,{})})})]},e.id)}))]})},Y=G;G.defaultProps={checkedList:[]};var q=n(698),J=n(202),_=n(85),K=n(1648),Q=n.n(K),X=n(70),Z=Object(z.a)("div")((function(e){return{display:"flex",marginTop:e.isPreviousSender?1:16,"& .avatar":{display:e.isPreviousSender?"none":"visible"},"& .date":{display:e.isPreviousSender?"none":"visible"}}})),$=Object(z.a)("div")((function(e){return{marginLeft:e.isPreviousSender?55:15}})),ee=Object(z.a)("div")((function(e){return{color:e.theme.palette.text.disabled,fontSize:12,display:"block",marginBottom:6}})),te=Object(z.a)("div")((function(e){var t=e.theme;return{display:"inline-block",borderRadius:"0 10px 10px 0",padding:"6px 12px",position:"relative",backgroundColor:t.palette.background.default,border:"@border-style-base @border-width-base ".concat(t.palette.divider),".last-scrum-board-message &":{borderRadius:"0 10px 10px 10px"},"& p":{marginBottom:0}}})),ne=function(e){var t=e.comments,n=e.onAddNewComment,a=Object(c.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],l=Object(q.a)().messages;return Object(w.jsxs)(s.a,{children:[Object(w.jsx)(s.a,{component:"h4",children:Object(w.jsx)(m.a,{id:"common.comments"})}),Object(w.jsx)(s.a,{sx:{mb:5},children:Object(w.jsx)(X.a,{sx:{maxHeight:200},children:Object(w.jsx)(_.g,{data:t,renderRow:function(e,n){var c=n>0&&t[n-1].sender.id===e.sender.id;return Object(w.jsxs)(Z,{isPreviousSender:c,children:[e.sender.image?Object(w.jsx)(A.a,{src:e.sender.image,className:"avatar",sx:{width:40,height:40,backgroundColor:J.a[500]}}):Object(w.jsx)(A.a,{className:"avatar",sx:{width:40,height:40,backgroundColor:J.a[500]},children:e.sender.name.charAt(0).toUpperCase()}),Object(w.jsxs)($,{isPreviousSender:c,children:[Object(w.jsx)(ee,{className:"date",children:e.date}),Object(w.jsx)(te,{component:"p",children:e.comment})]})]},n)}})})}),Object(w.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(w.jsx)(L.a,{multiline:!0,value:r,onChange:function(e){return o(e.target.value)},sx:{width:"100%"},rows:"1",variant:"outlined",placeholder:l["common.pressEnter"]}),Object(w.jsx)(k.a,{disabled:!r,onClick:function(){return n(r),void o("")},sx:{ml:2,"& svg":{pl:1}},"aria-label":"send",children:Object(w.jsx)(Q.a,{fontSize:"inherit"})})]})]})},ce=ne;ne.defaultProps={comments:[]};var ae=n(1565),ie=n(1558),re=n(2267),se=n(115),oe=function(e){var t=e.values,n=e.setFieldValue,c=e.checkedList,r=e.setCheckedList,o=e.comments,d=e.setComments,j=e.authUser,u=e.attachments,x=e.setAttachments,h=e.selectedLabels,O=e.setSelectedLabels,p=e.selectedMembers,f=e.setMembersList,g=e.selectedCard,v=e.onCloseAddCard,C=e.isSubmitting,y=Object(q.a)().messages,k=Object(i.useSelector)((function(e){return e.scrumboardApp.labelList})),S=Object(i.useSelector)((function(e){return e.scrumboardApp.memberList}));return Object(w.jsxs)(b.b,{style:{width:"100%",height:"100%"},noValidate:!0,autoComplete:"off",children:[Object(w.jsxs)(_.j,{sx:{height:"calc(100% - 70px)","& .simplebar-content":{height:"100%"}},children:[Object(w.jsxs)(s.a,{sx:{pt:6,px:{xs:5,lg:8,xl:10},pb:2,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{md:"center"}},children:[Object(w.jsx)(s.a,{sx:{mb:3,width:{md:"60%"}},children:Object(w.jsx)(se.a,{sx:{width:"100%"},variant:"outlined",label:Object(w.jsx)(m.a,{id:"common.title"}),name:"title"})}),Object(w.jsx)(s.a,{sx:{ml:{md:8},mb:3,width:{md:"40%"},"& .MuiFormControl-root":{width:"100%"}},children:Object(w.jsx)(ie.a,{autoOk:!0,format:"YYYY/MM/DD",variant:"outlined",inputVariant:"outlined",label:Object(w.jsx)(m.a,{id:"common.date"}),name:"date",value:t.date,onChange:function(e){return n("date",e)},renderInput:function(e){return Object(w.jsx)(L.a,Object(l.a)({},e))}})})]}),Object(w.jsxs)(s.a,{sx:{pb:5,px:{xs:5,lg:8,xl:10}},children:[Object(w.jsx)(se.a,{name:"desc",multiline:!0,sx:{width:"100%",mb:5},rows:"3",variant:"outlined",placeholder:y["common.description"]}),Object(w.jsxs)(I.a,{sx:{mb:3},children:[Object(w.jsx)(D.a,{item:!0,xs:12,md:6,children:Object(w.jsx)(re.a,{multiple:!0,id:"tags-outlined",options:k,getOptionLabel:function(e){return e.name},value:h,onChange:function(e,t){return O(t)},filterSelectedOptions:!0,renderInput:function(e){return Object(w.jsx)(L.a,Object(l.a)(Object(l.a)({},e),{},{variant:"outlined",label:Object(w.jsx)(m.a,{id:"common.label"}),fullWidth:!0}))}})}),Object(w.jsx)(D.a,{item:!0,xs:12,md:6,children:Object(w.jsx)(re.a,{multiple:!0,id:"tags-outlined",options:S,getOptionLabel:function(e){return e.name},value:p,onChange:function(e,t){return f(t)},renderOption:function(e){var t;return Object(w.jsxs)(a.a.Fragment,{children:[e.image?Object(w.jsx)(A.a,{src:e.image}):Object(w.jsx)(A.a,{children:null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase()}),Object(w.jsx)(s.a,{ml:4,children:null===e||void 0===e?void 0:e.name})]})},filterSelectedOptions:!0,renderInput:function(e){return Object(w.jsx)(L.a,Object(l.a)(Object(l.a)({},e),{},{variant:"outlined",label:Object(w.jsx)(m.a,{id:"common.members"}),fullWidth:!0}))}})})]}),Object(w.jsx)(P,{attachments:u,onDeleteAttachment:function(e){var t=u.filter((function(t){return t.id!==e}));x(t)}}),g?Object(w.jsx)(Y,{onAddNewCheckedItem:function(){var e={id:Math.floor(1e3*Math.random()),title:""},t=c.concat(e);r(t)},checkedList:c,onDeleteCheckedItem:function(e){var t=c.filter((function(t){return t.id!==e}));r(t)},onSetCheckedItemText:function(e,t){var n=c.map((function(n){return n.id===t?(n.title=e,n):n}));r(n)}}):null,Object(w.jsx)(ae.a,{sx:{mb:{xs:4,md:6},mx:{xs:-5,lg:-8,xl:-10}}}),Object(w.jsx)(ce,{comments:o,onAddNewComment:function(e){d(o.concat({sender:{id:j.id,name:j.displayName?j.displayName:"User",image:j.photoURL},comment:e,date:B()().format("ll")}))}})]})]}),Object(w.jsxs)(s.a,{sx:{px:8,py:4,textAlign:"right",borderTop:function(e){return"solid 1px ".concat(e.palette.divider)}},children:[Object(w.jsx)(U.a,{sx:{px:8},color:"primary",variant:"outlined",disabled:C,type:"submit",children:Object(w.jsx)(m.a,{id:"common.done"})}),Object(w.jsx)(U.a,{sx:{px:8,ml:2.5},color:"primary",variant:"outlined",onClick:v,children:Object(w.jsx)(m.a,{id:"common.cancel"})})]})]})},le=oe;oe.defaultProps={comments:[],attachments:[],selectedLabels:[],selectedMembers:[],isSubmitting:!1};var de=n(122),je=n(1508),be=u.a({title:u.c().required(Object(w.jsx)(m.a,{id:"validation.titleRequired"}))}),ue=function(e){var t=e.isAddCardOpen,n=e.onCloseAddCard,a=e.board,o=e.list,u=e.selectedCard,h=Object(i.useDispatch)(),O=Object(de.b)().user;console.log("selectedCard: ",u);var p=Object(c.useState)((function(){return u?u.checkedList:[]})),f=Object(d.a)(p,2),g=f[0],v=f[1],C=Object(c.useState)(!1),y=Object(d.a)(C,2),k=y[0],I=y[1],D=Object(c.useState)((function(){return u?u.members:[]})),L=Object(d.a)(D,2),A=L[0],M=L[1],B=Object(c.useState)((function(){return u?u.label:[]})),T=Object(d.a)(B,2),W=T[0],E=T[1],z=Object(c.useState)((function(){return u?u.comments:[]})),R=Object(d.a)(z,2),N=R[0],P=R[1],U=Object(c.useState)((function(){return u?u.attachments:[]})),V=Object(d.a)(U,2),F=V[0],H=V[1],G=function(e){H([].concat(Object(j.a)(F),Object(j.a)(e)))};Object(c.useEffect)((function(){u&&(v(u?u.checkedList:[]),M(u?u.members:[]),E(u?u.label:[]),P(u?u.comments:[]),H(u?u.attachments:[]))}),[u]);var Y=function(){u?I(!0):n()};return Object(w.jsxs)(je.a,{sx:{flexShrink:0,"& .MuiDrawer-paper":{width:{xs:320,sm:400,md:600,lg:900},boxSizing:"border-box"}},anchor:"right",open:t,onClose:n,children:[Object(w.jsx)(b.c,{validateOnChange:!0,initialValues:{title:u?u.title:"",desc:u&&u.desc?u.desc:"",label:u&&u.label?u.label:[],members:u&&u.members?u.members:[],date:u&&u.date?u.date:null},validationSchema:be,onSubmit:function(e,t){var c=t.setSubmitting,i=t.resetForm;if(c(!0),u){var s=Object(l.a)(Object(l.a)(Object(l.a)({},u),{},{comments:N},e),{},{attachments:F,members:A,label:W,checkedList:g.filter((function(e){return""!==e.title}))});h(Object(r.x)(a,o,s))}else{var d=Object(l.a)(Object(l.a)({id:Math.floor(1e3*Math.random()),attachments:F,checkedList:[],comments:N},e),{},{label:W,members:A});h(Object(r.k)(a,o,d))}n(),i(),c(!1)},children:function(e){var t=e.values,c=e.isSubmitting,i=e.setFieldValue;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{onAddAttachments:G,onClickDeleteIcon:Y,onCloseAddCard:n}),Object(w.jsx)(s.a,{sx:{height:"calc(100% - 60px)"},children:Object(w.jsx)(le,{values:t,isSubmitting:c,setFieldValue:i,board:a,list:o,checkedList:g,onCloseAddCard:n,setCheckedList:v,comments:N,setComments:P,authUser:O,attachments:F,setAttachments:H,selectedLabels:W,setSelectedLabels:E,selectedMembers:A,setMembersList:M,selectedCard:u})})]})}}),k?Object(w.jsx)(x.a,{open:k,onDeny:I,onConfirm:function(){var e=a.id,t=o.id,c=u.id;h(Object(r.s)(e,t,c)),I(!1),n()},title:Object(w.jsx)(m.a,{id:"scrumboard.deleteCard"}),dialogTitle:Object(w.jsx)(m.a,{id:"common.deleteItem"})}):null]})},xe=ue;ue.defaultProps={board:null,list:null,selectedCard:null};var me=n(1632),he=n(2144),Oe=n.n(he),pe=n(1460),fe=n(2182),ge=n.n(fe),ve=n(1451),Ce=function(e){var t=e.members;return Object(w.jsx)(s.a,{sx:{display:"flex",alignItems:"center"},children:t.map((function(e){return Object(w.jsx)(ve.a,{title:e.name,children:e.image?Object(w.jsx)(A.a,{sx:{width:35,height:35,mr:2},src:e.image,alt:"created"}):Object(w.jsx)(A.a,{sx:{width:35,height:35,mr:2},children:e.name[0].toUpperCase()})},e.id)}))})},ye=function(e){var t=e.labels;return Object(w.jsx)(s.a,{sx:{m:4,mx:-1,display:"flex",alignItems:"center"},children:t.map((function(e){return Object(w.jsx)(ve.a,{title:e.name,placement:"top",children:Object(w.jsx)(s.a,{sx:{height:{xs:4,sm:6},width:32,mx:1,borderRadius:20,backgroundColor:e.color}},e.id)},e.id)}))})},ke=function(e){var t=e.title,n=e.attachments,c=void 0===n?[]:n,a=e.label,i=void 0===a?[]:a,r=e.members,o=e.date,l=e.comments,d=e.onClick;return Object(w.jsx)(pe.a,{sx:{py:4,px:6,mb:2,cursor:"pointer",whiteSpace:"normal"},onClick:function(e){e.stopPropagation()},children:Object(w.jsxs)(s.a,{onClick:function(e){e.stopPropagation(),d(e)},children:[Object(w.jsxs)(s.a,{sx:{mb:3,display:"flex",alignItems:"center"},children:[Object(w.jsx)(s.a,{sx:{mr:2,fontWeight:y.a.MEDIUM},children:t}),c&&c.length>0?Object(w.jsxs)(s.a,{sx:{ml:"auto",display:"flex",alignItems:"center"},children:[Object(w.jsx)(s.a,{component:"span",sx:{fontWeight:y.a.LIGHT},children:c.length}),Object(w.jsx)(O.a,{sx:{ml:2}})]}):null]}),i.length>0?Object(w.jsx)(ye,{labels:i}):null,Object(w.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[r.length>0?Object(w.jsx)(Ce,{members:r}):null,Object(w.jsx)(s.a,{sx:{ml:1,mr:"auto",color:"text.secondary"},children:o?B()(o).format("ll").split(",")[0]:null}),l&&l.length>0?Object(w.jsxs)(s.a,{sx:{ml:2,display:"flex",alignItems:"center",color:"text.secondary"},children:[Object(w.jsx)(s.a,{component:"span",sx:{mr:2,fontWeight:y.a.LIGHT},children:l.length}),Object(w.jsx)(ge.a,{})]}):null]})]})})},we=ke;ke.defaultProps={list:null};var Se=n(280),Ie=n.n(Se),De=n(1644),Le=n.n(De),Ae=n(344),Me=n.n(Ae),Be=function(e){var t=e.name,n=e.id,a=e.onDelete,i=e.updateTitle,r=Object(c.useState)(!1),o=Object(d.a)(r,2),l=o[0],j=o[1],b=Object(c.useState)(""),u=Object(d.a)(b,2),h=u[0],O=u[1],p=Object(c.useState)(!1),g=Object(d.a)(p,2),v=g[0],C=g[1];return Object(w.jsxs)(pe.a,{sx:{py:1.75,px:6,mb:2,minHeight:56},children:[Object(w.jsx)(s.a,{sx:{display:"flex",alignItems:"center"},children:l?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.a,{sx:{mr:3},children:Object(w.jsx)(L.a,{fullWidth:!0,label:Object(w.jsx)(m.a,{id:"scrumboard.listTitle"}),value:h,onChange:function(e){return O(e.target.value)}})}),Object(w.jsxs)(s.a,{sx:{ml:"auto",mr:-2,display:"flex",alignItems:"center"},children:[Object(w.jsx)(k.a,{onClick:function(){""!==h&&(i(h),j(!1))},sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(Me.a,{})}),Object(w.jsx)(k.a,{onClick:function(){return j(!1)},sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(Ie.a,{})})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.a,{componet:"h5",sx:{fontSize:15,fontWeight:y.a.MEDIUM,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),Object(w.jsxs)(s.a,{sx:{ml:"auto",mr:-2,display:"flex",alignItems:"center"},children:[Object(w.jsx)(k.a,{onClick:function(){O(t),j(!l)},sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(Le.a,{})}),Object(w.jsx)(k.a,{onClick:function(){return C(!0)},sx:{color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(f.a,{})})]})]})}),v?Object(w.jsx)(x.a,{open:v,onDeny:C,onConfirm:function(){a(n),C(!1)},title:Object(w.jsx)(m.a,{id:"scrumboard.deleteMessage"}),dialogTitle:Object(w.jsx)(m.a,{id:"common.deleteItem"})}):null]})},Te=n(1617),We=n.n(Te),Ee=n(536),ze=function(e){return Object(w.jsx)(pe.a,{sx:{py:2,px:6,cursor:"pointer",minWidth:330},onClick:function(){return e.t(e.laneId)},children:Object(w.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(w.jsx)(A.a,{sx:{backgroundColor:"grey.100",border:"1px dashed ".concat(Ee.a[400])},children:Object(w.jsx)(We.a,{sx:{fontWeight:y.a.LIGHT,color:"grey.500"}})}),Object(w.jsx)(s.a,{sx:{ml:3.5,fontWeight:y.a.REGULAR},children:Object(w.jsx)(m.a,{id:"scrumboard.addACard"})})]})})},Re=function(e){var t=e.onAdd,n=e.onCancel,a=Object(c.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1];return Object(w.jsx)(s.a,{sx:{m:1.25,p:2.5,width:350,backgroundColor:"background.default",borderRadius:function(e){return e.cardRadius/4}},children:Object(w.jsxs)(pe.a,{sx:{py:2,px:6,minHeight:56},children:[Object(w.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(w.jsx)(A.a,{sx:{cursor:"pointer",backgroundColor:"grey.100",border:"1px dashed ".concat(Ee.a[400])},children:Object(w.jsx)(We.a,{sx:{color:"grey.500",fontWeight:y.a.LIGHT}})}),Object(w.jsx)(s.a,{sx:{ml:3.5,fontWeight:y.a.MEDIUM,fontSize:15},children:Object(w.jsx)(m.a,{id:"scrumboard.addAList"})}),Object(w.jsx)(s.a,{sx:{ml:"auto",textAlign:"right"},children:Object(w.jsx)(k.a,{onClick:n,sx:{p:2,color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(Ie.a,{})})})]}),Object(w.jsx)(s.a,{sx:{my:3},children:Object(w.jsx)(L.a,{sx:{"& .MuiInputBase-input":{height:"auto"}},fullWidth:!0,label:Object(w.jsx)(m.a,{id:"scrumboard.cardTitle"}),value:r,onChange:function(e){return o(e.target.value)}})}),Object(w.jsx)(s.a,{sx:{my:3},children:Object(w.jsx)(U.a,{variant:"outlined",sx:{paddingLeft:6,paddingRight:6},onClick:function(){""!==r&&(t(r),o(""))},children:Object(w.jsx)(m.a,{id:"common.add"})})})]})})},Ne=function(e){var t=e.onClick;return Object(w.jsx)(s.a,{sx:{m:1.25,p:2.5,width:350,backgroundColor:"background.default",borderRadius:function(e){return e.cardRadius/4}},children:Object(w.jsx)(pe.a,{sx:{py:2,px:6,minHeight:56},children:Object(w.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(w.jsx)(A.a,{sx:{cursor:"pointer",backgroundColor:"grey.100",border:"1px dashed ".concat(Ee.a[400])},onClick:t,children:Object(w.jsx)(We.a,{sx:{color:"grey.500",fontWeight:y.a.LIGHT}})}),Object(w.jsx)(s.a,{sx:{display:"flex"},children:Object(w.jsx)(s.a,{sx:{ml:3.5,fontWeight:y.a.MEDIUM,fontSize:15,color:function(e){return e.palette.text.secondary}},children:Object(w.jsx)(m.a,{id:"scrumboard.addAList"})})})]})})})},Pe=n(79),Ue=function(e){var t=e.children;return Object(w.jsx)(s.a,{sx:{display:"flex",flexDirection:"row",height:1,"& .smooth-dnd-container.horizontal":{height:1}},children:t})},Ve=function(e){var t=Object(i.useDispatch)(),n=Object(Pe.a)(),a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],j=s[1],b=Object(c.useState)(!1),u=Object(d.a)(b,2),x=u[0],m=u[1],h=Object(c.useState)(null),O=Object(d.a)(h,2),p=O[0],f=O[1],g=e.boardDetail,v=Object(c.useCallback)((function(){return Object(l.a)(Object(l.a)({},g),{},{lanes:g.list})}),[g]),C=Object(c.useState)(v()),y=Object(d.a)(C,2),k=y[0],S=y[1];Object(c.useEffect)((function(){S(v())}),[g,v]);var I=function(e){j(k.lanes.find((function(t){return t.id===e}))),f(null),m(!0)};return Object(w.jsxs)(me.a,{sx:{flex:1,"& .simplebar-wrapper":{my:"0 !important",height:"100%"},"& .simplebar-content":{height:"100%",maxHeight:"100%",py:"0 !important"}},children:[Object(w.jsx)(Oe.a,{laneStyle:{borderRadius:16,maxHeight:"98%",backgroundColor:n.palette.background.default,width:350},editable:!0,canAddLanes:!0,data:k,onDataChange:function(e){S(e)},handleDragEnd:function(e,n,c,a,i){if(n!==c){var s=g.id;t(Object(r.fb)(i.id,n,c,a,s))}},onCardAdd:function(e,t){I(t)},onCardClick:function(e,t,n){!function(e){console.log("onEditCardDetail");var t=k.lanes.find((function(t){if(t.cards.find((function(t){return t.id===e})))return t})),n=function(e,t){return e.cards.find((function(e){return e.id===t}))}(t,e);f(n),j(t),m(!0)}(e)},onLaneAdd:function(e){return function(e){t(Object(r.l)(g.id,{name:e}))}(e)},onLaneUpdate:function(e,n){var c=k.lanes.find((function(t){return t.id===e}));t(Object(r.w)(g.id,Object(l.a)(Object(l.a)({},c),{},{name:n.title})))},onLaneDelete:function(e){return t(Object(r.t)(g.id,e))},t:function(e){return I(e)},components:{BoardWrapper:Ue,Card:we,LaneHeader:Be,AddCardLink:ze,NewCardForm:xe,NewLaneForm:Re,NewLaneSection:Ne}}),Object(w.jsx)(xe,{isAddCardOpen:x,onCloseAddCard:function(){m(!1)},list:o,board:g,selectedCard:p,setSelectedCard:f})]})},Fe=n(68),He=function(){var e=Object(Fe.f)(),t=Object(i.useSelector)((function(e){return e.scrumboardApp.boardDetail})),n=Object(i.useDispatch)(),a=Object(Fe.e)().pathname;Object(c.useEffect)((function(){var e=a.split("/"),t=e[e.length-1];return n(Object(r.B)(t)),function(){n(Object(r.ab)())}}),[n,a]);return t?Object(w.jsx)(o.a,{fullView:!0,title:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.a,{component:"span",sx:{cursor:"pointer",mr:2,color:"primary.main"},onClick:function(){e(-1)},children:"Scrum Board"}),"> ",t.name]}),children:Object(w.jsx)(Ve,{boardDetail:t})}):null},Ge=n(1443),Ye=n(979),qe=a.a.forwardRef((function(e,t){return Object(w.jsx)(Ye.a,Object(l.a)({direction:"down",ref:t},e))})),Je=function(e){var t=e.isAddBoardOpen,n=e.onCloseAddBoardModal,a=e.onAddBoard,i=e.selectedBoard,r=Object(c.useState)((function(){return i?i.name:""})),o=Object(d.a)(r,2),l=o[0],j=o[1];return Object(w.jsx)(Ge.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"simple-modal-title",TransitionComponent:qe,"aria-describedby":"simple-modal-description",sx:{"& .MuiDialog-paperWidthSm":{maxWidth:600,width:"100%"},"& .MuiTypography-h6":{fontWeight:y.a.LIGHT}},children:Object(w.jsxs)(pe.a,{sx:{padding:"32px 40px"},children:[Object(w.jsx)(L.a,{fullWidth:!0,margin:"normal",label:Object(w.jsx)(m.a,{id:"scrumboard.boardTitle"}),value:l,onChange:function(e){return j(e.target.value)}}),Object(w.jsx)(s.a,{sx:{mt:3,textAlign:"right"},children:Object(w.jsx)(U.a,{variant:"outlined",sx:{paddingRight:8,paddingLeft:8},onClick:function(){""!==l&&(a(l),j(""),n())},children:Object(w.jsx)(m.a,{id:"common.add"})})})]})})},_e=Je;Je.defaultProps={selectedBoard:null};var Ke=n(2183),Qe=n.n(Ke),Xe=n(739),Ze=n.n(Xe),$e=function(e){var t=e.board,n=e.onEditButtonClick,c=e.onViewBoardDetail;return Object(w.jsx)(D.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(w.jsxs)(pe.a,{sx:{backgroundColor:function(e){return e.palette.primary.main},color:function(e){return e.palette.primary.contrastText},cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:5,textAlign:"center",height:224},onClick:function(){return c(t)},children:[Object(w.jsxs)(s.a,{sx:{marginBottom:4},children:[Object(w.jsx)(k.a,{children:Object(w.jsx)(Qe.a,{sx:{fontSize:24,color:"primary.contrastText"}})}),Object(w.jsx)(k.a,{onClick:function(){return n(t)},children:Object(w.jsx)(Ze.a,{sx:{fontSize:24,color:"primary.contrastText"}})})]}),Object(w.jsx)(s.a,{component:"p",sx:{mx:2,fontWeight:y.a.MEDIUM,fontSize:14},children:t.name}),Object(w.jsx)(s.a,{component:"span",onClick:function(e){return e.stopPropagation()}})]},t.id)},t.id)},et=function(e){var t=e.onAddButtonClick;return Object(w.jsx)(D.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(w.jsxs)(pe.a,{sx:{borderRadius:function(e){return e.borderRadius},cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:5,textAlign:"center",backgroundColor:function(e){return e.palette.background.paper},height:224,border:"2px dashed",borderColor:Ee.a[600]},onClick:function(){return t()},children:[Object(w.jsx)(A.a,{sx:{backgroundColor:"grey.500",marginBottom:5},children:Object(w.jsx)(We.a,{sx:{fontSize:24}})}),Object(w.jsx)(s.a,{component:"p",sx:{fontWeight:y.a.MEDIUM,fontSize:14},children:Object(w.jsx)(m.a,{id:"scrumboard.addNewBoard"})})]})})},tt=n(725),nt=n(1452),ct=function(){var e=Object(i.useDispatch)(),t=Object(Fe.f)(),n=Object(i.useSelector)((function(e){return e.scrumboardApp.boardList})),a=Object(c.useState)(!1),o=Object(d.a)(a,2),j=o[0],b=o[1],u=Object(c.useState)(null),x=Object(d.a)(u,2),h=x[0],O=x[1];Object(c.useEffect)((function(){e(Object(r.C)())}),[e]);var p=function(e){O(e),b(!0)},f=function(e){t("/apps/scrum-board/".concat(e.id))};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(nt.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(w.jsxs)(s.a,{sx:{pt:4,display:"flex",flex:1,flexDirection:"column"},children:[Object(w.jsx)(s.a,{component:"h2",sx:{my:{xs:5,sm:5,xl:8},color:"text.primary",fontWeight:y.a.BOLD,textAlign:"center",fontSize:16},children:Object(w.jsx)(m.a,{id:"scrumboard.scrumboardApp"})}),Object(w.jsxs)(I.a,{sx:{justifyContent:"center"},children:[n&&n.length>0?n.map((function(e){return Object(w.jsx)($e,{board:e,onEditButtonClick:p,onViewBoardDetail:f},e.id)})):null,Object(w.jsx)(et,{onAddButtonClick:function(){O(null),b(!0)}})]})]})}),j?Object(w.jsx)(_e,{isAddBoardOpen:j,onCloseAddBoardModal:function(){b(!1)},onAddBoard:function(t){if(h){var n=Object(l.a)(Object(l.a)({},h),{},{name:t});e(Object(r.v)(n))}else e(Object(r.j)({name:t}))},selectedBoard:h}):null,Object(w.jsx)(tt.a,{})]})};t.default=function(){var e=Object(i.useDispatch)(),t=Object(Fe.g)();Object(c.useEffect)((function(){e(Object(r.O)())}),[e]),Object(c.useEffect)((function(){e(Object(r.M)())}),[e]);return Object(w.jsx)(w.Fragment,{children:t.id?Object(w.jsx)(He,{}):Object(w.jsx)(ct,{})})}}}]);
//# sourceMappingURL=94.f86d840a.chunk.js.map